# Configurações para gerenciar e configurar um backend do Firebase App Hosting.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  # Aumente este valor para escalar automaticamente
  # mais instâncias em resposta ao aumento de tráfego.
  maxInstances: 5
  # Aumente a memória para evitar problemas de desempenho, especialmente com Genkit.
  memory: 5GiB

# Opcional: Especifique o tempo limite para solicitações (em segundos).
# O padrão é 60s. Aumentado para 120s para acomodar fluxos de IA mais longos.
timeoutSeconds: 120

# Opcional: Defina variáveis de ambiente para produção.
# Os valores públicos podem ser definidos aqui. Os valores secretos DEVEM ser
# armazenados no Secret Manager e referenciados pela chave 'secret'.
# https://firebase.google.com/docs/app-hosting/configure-backend#set-env
env:
  # URL do Site (Pública) - Usada para redirects do Stripe e Firebase Auth
  - variable: NEXT_PUBLIC_SITE_URL
    value: "https://qoro.dev"

  # Variáveis do Firebase (Públicas)
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    value: "AIzaSyB-v1ynnLnRuIV4-VTJhBtXPPkHpg-ivtU"
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: "https://accounts.google.com/o/oauth2/auth"
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: "qoro-iy1gs"
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: "qoro-iy1gs.firebasestorage.app"
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: "62039220673"
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: "1:62039220673:web:c357a855b1093c508f8f40"
  - variable: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
    value: "G-L3D1C3SYVV"
  
  # Variáveis do Stripe (Públicas)
  - variable: NEXT_PUBLIC_STRIPE_GROWTH_PLAN_PRICE_ID
    value: "price_1Rzr2FKnoRE6MSOlBbtvn4cb"
  - variable: NEXT_PUBLIC_STRIPE_PERFORMANCE_PLAN_PRICE_ID
    value: "price_1Rzr2jKnoRE6MSOl1yBSMsjy"

  # --- SECRETS - Os valores para estas variáveis DEVEM ser criados no Secret Manager ---

  # Variáveis do Stripe (Secretas)
  - variable: STRIPE_PORTAL_CONFIGURATION_ID
    secret: STRIPE_PORTAL_CONFIGURATION_ID
  - variable: STRIPE_SECRET_KEY
    secret: STRIPE_SECRET_KEY
  - variable: STRIPE_WEBHOOK_SECRET
    secret: STRIPE_WEBHOOK_SECRET
  
  # Chaves de API (Secretas)
  - variable: GOOGLE_API_KEY
    secret: GOOGLE_API_KEY
  - variable: GEMINI_API_KEY
    secret: GEMINI_API_KEY
  
  # Configurações do Firebase Admin (Secretas)
  - variable: FIREBASE_PROJECT_ID
    secret: FIREBASE_PROJECT_ID
  - variable: FIREBASE_CLIENT_EMAIL
    secret: FIREBASE_CLIENT_EMAIL
  - variable: FIREBASE_PRIVATE_KEY
    secret: FIREBASE_PRIVATE_KEY
