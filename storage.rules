rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    
    // Permitir leitura pública de arquivos na raiz (como favicon, logos públicos)
    match /{filename} {
      allow read: if true;
      allow write: if false; // Ninguém pode escrever via cliente
    }
    
    // OU, se quiser ser mais específico, permitir apenas o favicon:
    match /logofinal-removebg-preview.png {
      allow read: if true;
      allow write: if false;
    }
    
    // Regra existente para arquivos organizacionais
    match /{folder}/{orgId}/{allPaths=**} {
      allow read, write: if request.auth != null && orgId == request.auth.token.organizationId;
    }
    
    // Bloquear tudo que não se encaixe nas regras acima
    match /{allOtherPaths=**} {
      allow read, write: if false;
    }
  }
}